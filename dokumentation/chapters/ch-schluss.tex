\chapter{Zusammenfassung und Ausblick}
\label{sec:schluss}

Nach einer kurzen Evaluation von verfügbaren Werkzeugen zur Analyse von File-IO wurden diese als unzureichend für den angestrebten Zweck beurteilt. Lediglich Darshan erfüllt die grundlegenden Anforderungen. Mit Darshan können POSIX-IO und MPI-IO in eine Log-Datei protokolliert werden. Diese Datei kann dann durch ein Analyseprogramm augewertet werden. Darshan unterstützt jedoch nur POSIX-IO und MPI-IO. Andere Arten von Dateizugriffen werden nicht berücksichtigt. Diese sind allerdings im HPC-Bereich von entscheidender Bedeutung. So erfordert eine hochparallelisierte Kommunikation zu Dateien zum Beispiel ein Dateisystem wie Lustre. Dieses bringt entsprechend eigene File-IO-Funktionen mit sich, welche über Darshan nicht protokolliert werden können. Zudem schreibt Darshan die Protokolldateien in einem Binärformat. Dieses ist entsprechend seiner Natur nicht leicht aus anderen Anwendungen heraus zu nutzen. Insbesondere bei der Verwendung von Programmiersprachen welche die binäre Kodierung vor dem Entwickler verbergen (wie zum Beispiel Java) stellt das Binärformat ein unerwünschtes Hindernis dar.

Nach der Evaluation wurde daher mit dem Entwurf einer eigenen Lösung begonnen. Dabei lag der Fokus im ersten Schritt auf den Wrappern. Deren Architektur und das Datenformat der Protokollierung wurden nach Gesichtspunkten der Performance und der Nutz- und Erweiterbarkeit gewählt. Dabei ergaben sich für das Abfangen der File-IO-Funktionsaufrufe ähnliche Ansätze wie in Darshan, während die Protokollierung andere Ansätze verfolgt. Neben der Architektur der Wrapper wurde für das gesamte System eine erste grobe Architektur festgelegt.

Welche Daten durch die ersten Wrapper für einfache Analysen gebraucht werden, wurde durch eine Betrachtung möglicher File-IO-Konstellatione ermittelt. Abhängig von den künftig im Projekt geplanten Analysen müssen jedoch weitere Daten protokolliert werden. Diese Erkenntnis wurde beim Entwurf der Wrapper und insbesondere bei der Wahl des Datenformats berücksichtigt.

Als Datenformat für die Protokollierung wurde JSON gewählt. Dieses Format ermöglicht eine Enfache Nutzung der protokollierten Daten mittels unterschiedlicher Programmiersprachen aus verschiedenen Plattformen heraus. Dabei hält sich der Overhead beim Protokollieren im Vergleich zu anderen Formaten in Grenze. JSON bietet zudem die Möglichkeit die Protokollierung einfach zu erweitern. Werden nachträglich durch Wrapper zusätzliche Daten benötigt, so können diese im JSON-Format hinzugefügt werden, ohne dass dies ein Auslesen der Datei beeinträchtigt.

Nach einem erfolgreichen Test des Konzepts der Wrapper wurde mittlerweile mit der Implementierung begonnen. Dabei liegt der Fokus zunächst auf POSIX-IO und MPI-IO. Im kommenden Semester ist geplant die Wrapper weitgehend fertig zu stellen. Nach erfolgreicher Implementierung der Wrapper wird mit der Umsetzung der restlichen Komponenten begonnen.

Da bei dem Entwurf einer eigenen Lösung für die Wrapper zum Protokollieren des File-IOs ähnliche Ansätze wie in Darshan gewählt wurden, ist eine weitergehende Analyse von Darshan bezüglich der Performance sinnvoll. Hier wird insbesondere ein Vergleich zwischen der im Rahmen dieses Projektes erstellten libiotrace und Darhans libdarshan.so angestrebt. Mit dieser Aufgabe kann begonnen werden, sobald die Wrapper einen mit Darshan vergleichbaren Funktionsumfang erreicht haben.