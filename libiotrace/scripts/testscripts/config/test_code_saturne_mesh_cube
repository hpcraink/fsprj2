# dependencies
test_source_configs=("influxdb" "code_saturne" "salome" "gcc_mpi")
test_source=()
test_modules=("compiler/gnu/${test_gcc_version}" "mpi/openmpi/${test_mpi_version}")

# libiotrace
test_libiotrace_cmake_options=(
-DALL_WRAPPERS_ACTIVE=OFF
-DENABLE_FILESYSTEM_METADATA=OFF
-DENABLE_OUTPUT=INFLUXDB
-DENABLE_REMOTE_CONTROL=OFF
-DFILENAME_RESOLUTION_ENABLED=OFF
-DLOGGING=OFF
-DLOG_WRAPPER_TIME=OFF
-DREALTIME=ON
-DSENDING=ON
-DWITH_ALLOC=OFF
-DWITH_DL_IO=OFF
-DWITH_MPI_IO=ON
-DWITH_POSIX_AIO=OFF
-DWITH_POSIX_IO=OFF
-DWITH_STD_IO=OFF
)
test_libiotrace_cmake_options=(
-DALL_WRAPPERS_ACTIVE=ON
-DENABLE_FILESYSTEM_METADATA=OFF
-DENABLE_OUTPUT=LOGFILE_AND_INFLUXDB
-DENABLE_REMOTE_CONTROL=OFF
-DFILENAME_RESOLUTION_ENABLED=OFF
-DLOGGING=ON
-DLOG_WRAPPER_TIME=OFF
-DREALTIME=ON
-DSENDING=ON
-DWITH_ALLOC=OFF
-DWITH_DL_IO=OFF
-DWITH_MPI_IO=ON
-DWITH_POSIX_AIO=OFF
-DWITH_POSIX_IO=OFF
-DWITH_STD_IO=OFF
)

# slurm
test_nodes=3
test_processes_per_worker=40
export test_processes_per_influxdb=40
test_mem="90000mb"
test_time="00:30:00"
test_queue_name="dev_multiple"
export test_threads_per_process=1

# test script
test_script="./code_saturne_mesh_cube.sh"
export IOTRACE_WHITELIST_FUNCTIONS="# newline separated list of functions to trace
MPI_File_get_size
MPI_File_read
MPI_File_read_all
MPI_File_read_at
MPI_File_read_at_all
MPI_File_seek
MPI_File_set_view
MPI_File_write
MPI_File_write_at
MPI_File_write_all
MPI_File_write_at_all"

# output
test_name="3_code_saturne_mesh_cube"
export IOTRACE_LOG_NAME=code_saturne_mesh_cube_test1
